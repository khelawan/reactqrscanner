(window.webpackJsonpreactqr=window.webpackJsonpreactqr||[]).push([[0],{16:function(e,t,a){},20:function(e,t,a){},36:function(e,t,a){e.exports=a.p+"static/media/konfhub.734afb65.png"},43:function(e,t,a){e.exports=a(77)},48:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(30),c=a.n(o);a(20),a(16),a(11),a(48),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=a(37),r=a(10),s=a(1),m=a(31),d=a(32),u=a(41),p=a(33),g=a(42),h=a(34),E=a.n(h),v=a(5),b=a.n(v),f="",N="",x="",w="",_={backgroundColor:"white",zIndex:1,borderRadius:"5px",minWidth:"100%"},k={borderRadius:"5px",marginTop:"30px"},S=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).handleScan=function(e){if(e){a.setState({result:e}),a.setState({modalClass:"modal is-active"}),console.log(a.state);var t=e;console.log(t),localStorage.setItem("scanData",t),(f=localStorage.getItem("scanData")).indexOf("Booking Id:")>-1&&(console.log(f.indexOf("Booking Id")),f=(f=(f=f.split("Booking Id:"))[1]).trim(),console.log(f),N=(N=(N=t.split("Name:"))[1].split("Email Id:"))[0].trim(),console.log(N),x=(x=(x=t.split("Phone Number:"))[1].split("Booking Id"))[0].trim(),console.log(x),w=(w=(w=t.split("Email Id:"))[1].split("Phone Number"))[0].trim(),console.log(w))}},a.handleError=function(e){console.error(e)},a.state={modalClass:"modal "},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentWillMount",value:function(){}},{key:"onClickSendData",value:function(){console.log(f);var e=this;b.a.post("https://xo3dnghur7.execute-api.us-east-2.amazonaws.com/dev/registration_app_user_check_in",{booking_id:f,hosted_event_id:localStorage.getItem("hosted_event_id")}).then(function(t){400==t.data?(e.setState({modalClass:"modal"}),window.alert("Invalid QR Code")):409==t.data?window.alert("Participant already checked-in"):(console.log(t),window.alert("Particiapnt Checked-in"),e.setState({modalClass:"modal"}))}).catch(function(e){console.log(e),localStorage.clear()})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"scan"},l.a.createElement(E.a,{delay:300,onError:this.handleError,onScan:this.handleScan,style:{width:"100%"}}),l.a.createElement("div",{className:this.state.modalClass},l.a.createElement("div",{className:"modal-background"}),l.a.createElement("div",{style:_},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{style:k},l.a.createElement("p",null,"Name: ",N),l.a.createElement("p",null,"Email Id: ",w),l.a.createElement("p",null,"Phone : ",x),l.a.createElement("p",null,"Booking Id : ",f))),l.a.createElement("div",{className:"columns"},l.a.createElement("div",{className:"column"},l.a.createElement("a",{className:"button buttonCheck is-success",onClick:function(){return e.onClickSendData()}},"Check-In")))),l.a.createElement("button",{className:"modal-close is-large","aria-label":"close",onClick:function(){return e.onClickClose()}})))}},{key:"onClickClose",value:function(){this.setState({modalClass:"modal"}),console.log(this.state)}}]),t}(n.Component),y=function(){var e=localStorage.getItem("event_details"),t=(e=JSON.parse(e)).name;return console.log(t),l.a.createElement("div",null,l.a.createElement("nav",{className:"navbar is-info",role:"navigation","aria-label":"main navigation"},l.a.createElement("div",{className:"navbar-brand"},l.a.createElement("a",{className:"navbar-item",href:"/routele"}),l.a.createElement("div",{className:" tabs title"},l.a.createElement("ul",{className:"title1 has-text-centered"},t)),l.a.createElement("div",{className:""},l.a.createElement("div",{className:"navbar-end"},l.a.createElement("div",{className:"navbar-item "},l.a.createElement("div",{className:"field is-grouped navbar-end"},l.a.createElement("p",{className:"control "}))))))))},C={width:"70%",marginLeft:"10px",boxShadow:"0px 0px 3px"},I={marginTop:"10px",marginBottom:"10px"},O={float:"right",marginRight:"10px"},j={margin:"0px",backgroundColor:"white"},B=function(e){var t=Object(n.useState)([]),a=Object(s.a)(t,2),o=a[0],c=a[1],i=Object(n.useState)(""),r=Object(s.a)(i,2),m=r[0],d=r[1],u=Object(n.useState)("modal"),p=Object(s.a)(u,2),g=p[0],h=p[1];return l.a.createElement("div",{style:I},l.a.createElement("form",{onSubmit:function(e){localStorage.setItem("search",m),b.a.get("https://dstc324xgg.execute-api.us-east-2.amazonaws.com/test/participants/search-participants/"+localStorage.getItem("hosted_event_id")+"/"+m).then(function(e){400===e.data?window.alert("No Data Found"):(c(e.data),h("modal is-active"))}).catch(function(e){console.log(e)}),e.preventDefault()}},l.a.createElement("input",{style:C,className:"input is-rounded search-box",type:"text",id:"search",placeholder:"Search by Name, Ph. no, Email",value:m,onChange:function(e){d(e.target.value)}}),l.a.createElement("button",{type:"submit",style:O,className:"button is-info is-rounded"},"Search")),l.a.createElement("div",{className:g},l.a.createElement("div",{className:"modal-background"}),l.a.createElement("div",{className:"modal-card"},l.a.createElement("header",{className:"modal-card-head"},l.a.createElement("p",{className:"modal-card-title"},"List of Participants"),l.a.createElement("button",{className:"delete","aria-label":"close",onClick:function(){h("modal")}})),l.a.createElement("section",{className:"modal-card-body",style:j},o.length?l.a.createElement("div",{className:"list is-hoverable"},console.log(o),o.map(function(e){return l.a.createElement("a",{className:"list-item",onClick:function(t){var a;a=e.booking_id,console.log(a),b.a.post("https://xo3dnghur7.execute-api.us-east-2.amazonaws.com/dev/registration_app_user_check_in",{booking_id:a,hosted_event_id:localStorage.getItem("hosted_event_id")}).then(function(e){console.log(e),400==e.data?window.alert("Invalid QR Code"):409==e.data?window.alert("Participant already checked-in"):(h("modal"),window.alert("Partipant checked-in"))}).catch(function(e){console.log(e),localStorage.clear()})}},l.a.createElement("p",{className:"is-capitalized"},"Name: ",e.name),l.a.createElement("p",null,"Email-id: ",e.email_id),l.a.createElement("p",null,"Booking-id: ",e.booking_id))})):l.a.createElement("div",null,"No Data")),l.a.createElement("footer",{className:"modal-card-foot"},l.a.createElement("button",{className:"button is-danger radiusBtn",onClick:function(){h("modal")}},"Cancel")))))},P=[],R={width:"96%",marginLeft:"10px",marginRight:"10px",marginBottom:"10px",marginTop:"10px",boxShadow:"0px 0px 6px"},L={fontSize:"18px",fontWeight:"500"},z=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(!0),i=Object(s.a)(c,2),r=i[0],m=i[1],d=localStorage.getItem("hosted_event_id");return r&&b.a.get("https://xo3dnghur7.execute-api.us-east-2.amazonaws.com/dev/registration_app_get_check_in_details?event_id="+d).then(function(e){m(!1),P=e.data,o(e.data),console.log(e),console.log(e.data.length),localStorage.setItem("checkinLength",e.data.length),""==e.data&&window.alert("No participant checked-in")}).catch(function(e){m(!1),console.log(e)}),l.a.createElement("div",{className:" is-hoverable"},l.a.createElement("div",{className:"has-text-centered"},l.a.createElement("button",{className:"button is-info is-rounded",onClick:function(e){console.log(),b.a.get("https://dstc324xgg.execute-api.us-east-2.amazonaws.com/test/participants/"+d).then(function(e){console.log(e.data),window.open(e.data)})}},"Download CSV")),l.a.createElement("input",{style:R,className:"input is-rounded search-box",type:"text",placeholder:"Start typing name to search",onChange:function(e){o(P.filter(function(t){return t.name.toLowerCase().indexOf(e.target.value.toLowerCase())>-1}))}}),a.map(function(e){return l.a.createElement("a",{className:"list-item"},l.a.createElement("p",null,"Name:",l.a.createElement("span",{style:L,className:"is-capitalized"}," ",e.name)),l.a.createElement("p",null,"Email-id: ",e.email_id),l.a.createElement("p",null,"Organisation: ",e.organisation),l.a.createElement("p",null,"Checkin Time: ",e.check_in_time))}))},D=a(40),q={marginTop:"10px",marginBottom:"5px",borderRadius:"27px"},A={padding:"5px 5px 5px",borderRadius:"5px"},T={marginBottom:"20px"},J={width:"95%"},Q=function(){var e=Object(D.a)(),t=e.register,a=e.handleSubmit,n=e.errors;return l.a.createElement("div",null,l.a.createElement(y,null),l.a.createElement("div",{className:"hero  radius",style:T},l.a.createElement("div",{className:"",style:A},l.a.createElement("div",{className:"container has-text-centered"},l.a.createElement("h2",{className:"subtitle"},"On Spot Registration")))),l.a.createElement("div",{className:"container",style:J},l.a.createElement("form",{onSubmit:a(function(e){console.log(e);var t=e;console.log(t),t.hosted_event_id=localStorage.getItem("hosted_event_id"),console.log(t),b.a.post("https://dstc324xgg.execute-api.us-east-2.amazonaws.com/test/participants/add-participants",t).then(function(e){console.log(e),window.alert("Participant added"),window.location.reload(!0)}).catch(function(e){console.log(e),window.alert("Oops! participant Couldnot be added")})})},l.a.createElement("input",{className:"input is-info",name:"name",placeholder:"Name*",ref:t({required:!0}),style:q}),n.name&&"Please enter name",l.a.createElement("input",{className:"input is-info",name:"email_id",placeholder:"Email-id*",style:q,ref:t({pattern:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i})}),n.email_id&&"Please enter email-id",l.a.createElement("input",{className:"input is-info",name:"phone_number",placeholder:"Phone Number*",style:q,ref:t({pattern:/\d/})}),n.phone_number&&"Please enter phone number",l.a.createElement("input",{className:"input is-info",name:"organisation",placeholder:"Organisation*",style:q,ref:t({required:!0})}),n.organisation&&"Please enter organisation",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:"has-text-centered"},l.a.createElement("button",{className:"button is-info is-normal is-rounded",type:"submit"},"Register"),l.a.createElement("a",{className:"button  radiusBtn",href:"/routele"},"\xa0\xa0 Back \xa0\xa0")))))},W={backgroundColor:"#2F3B59",padding:"1rem 1.5rem 1rem"},Z=function(){window.localStorage.clear(),window.location="/login"},F=localStorage.getItem("hosted_event_id"),$=function(e){return b.a.get("https://xo3dnghur7.execute-api.us-east-2.amazonaws.com/dev/registration_app_get_check_in_details?event_id="+F).then(function(e){console.log(e.data.length),localStorage.setItem("checkinLength",e.data.length)}),l.a.createElement("footer",{className:"footer",style:W},l.a.createElement("div",{className:"columns is-mobile"},l.a.createElement("div",{className:"column is-vcentered"},l.a.createElement("label",{className:"label islabel"},"Checked-In: ",localStorage.getItem("checkinLength"))),l.a.createElement("div",{className:"column align-right "},l.a.createElement("button",{className:"button is-info is-inverted  radiusBtn",onClick:function(t){e.props.history.push("/AddParticiant")}},"Spot Registration"))),l.a.createElement("div",{className:"has-text-centered"},l.a.createElement("a",{className:"button is-info radiusBtn widthfull",onClick:Z},l.a.createElement("span",null,"Change Event"))))},G={marginBottom:".5rem",borderRadius:"22px !important"},M={borderRadius:"22px",marginRight:"5px",marginLeft:"5px"},V={color:"dodgerblue"};var H=function(e){var t=Object(n.useState)(!0),a=Object(s.a)(t,2),o=a[0],c=a[1];if(""!=localStorage.getItem("hosted_event_id"))return l.a.createElement("div",null,l.a.createElement(y,null),l.a.createElement("div",{className:"tabs is-toggle is-centered",style:G},l.a.createElement("ul",null,l.a.createElement("li",{className:"",onClick:function(e){c(!0)}},l.a.createElement("a",{style:M},l.a.createElement("span",{style:V},"Scan QR Code"))),l.a.createElement("li",{onClick:function(e){c(!1)}},l.a.createElement("a",{style:M},l.a.createElement("span",{style:V},"Checked-in Details"))))),l.a.createElement("div",null,o?l.a.createElement("div",null,l.a.createElement(B,null),l.a.createElement(S,null)):l.a.createElement(z,null)),l.a.createElement("br",null),l.a.createElement($,{props:e}));window.location.href("/login")},K=a(36),U=a.n(K),X={marginBottom:"10px",marginLeft:"10px",marginRight:"10px"},Y={border:"1px solid dodgerblue"},ee=function(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),o=a[0],c=a[1];if(null!=localStorage.getItem("eventId"))return e.history.push("/routele"),console.log("Routing to scan page"),l.a.createElement("div",null,"loading...");return l.a.createElement("div",null,l.a.createElement("div",{className:"bodyLogin"},l.a.createElement("div",{className:"has-text-centered "},l.a.createElement("div",{className:"top"}),l.a.createElement("img",{src:U.a,width:"200"})),l.a.createElement("form",{onSubmit:function(t){localStorage.setItem("eventId",o.toLowerCase()),b.a.get("https://dstc324xgg.execute-api.us-east-2.amazonaws.com/test/participants/registration-authentication/"+o).then(function(t){if(console.log(t.data.hosetd_event_id),400==t.data)window.alert("Event Does Not Exist"),localStorage.clear(),e.history.push("/login");else{var a=JSON.stringify(t.data);localStorage.setItem("event_details",a),localStorage.setItem("hosted_event_id",t.data.hosetd_event_id),e.history.push("/routele")}}).catch(function(e){console.log(e)}),t.preventDefault()}},l.a.createElement("div",{className:"field"},l.a.createElement("div",{className:"top2"}),l.a.createElement("div",{style:X},l.a.createElement("input",{className:"input is-rounded",style:Y,id:"userId",name:"userId",placeholder:"Enter Event Id",value:o,onChange:function(e){c(e.target.value)},required:!0}))),l.a.createElement("div",{className:"field"},l.a.createElement("div",{className:"has-text-centered "},l.a.createElement("button",{type:"submit",className:"button is-info is-normal is-rounded top3",style:X},"Let's Go"))))))},te={"background-color":"black"};var ae=function(){return l.a.createElement(i.a,null,l.a.createElement(r.b,{path:"/",exact:!0,render:function(e){return l.a.createElement(ee,Object.assign({style:te},e))}}),l.a.createElement(r.b,{path:"/routele",component:H}),l.a.createElement(r.b,{path:"/login",render:function(e){return l.a.createElement(ee,e)}}),l.a.createElement(r.b,{path:"/AddParticiant",render:function(e){return l.a.createElement(Q,e)}}),l.a.createElement(r.b,{path:"/",exact:!0,render:function(e){return l.a.createElement(r.a,{to:"/login"})}}))};c.a.render(l.a.createElement(ae,null),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.a82fcc99.chunk.js.map