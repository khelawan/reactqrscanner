{"ast":null,"code":"var _jsxFileName = \"/Users/khelawanradheshyamverma/Desktop/qr/reactqr/src/components/qr.js\";\nimport React, { Component } from 'react';\nimport QrReader from 'react-qr-reader';\nimport axios from 'axios';\nimport 'bulma/css/bulma.css';\nlet _pdata = \"\";\nlet modalClass = \"modal is-active\";\nconst modalStyle = {\n  backgroundColor: 'white',\n  zIndex: 1,\n  borderRadius: '5px'\n};\n\nclass Test extends Component {\n  constructor(props) {\n    this.state({\n      modalClass: \"modal\"\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(QrReader, {\n      delay: 300,\n      onError: this.handleError,\n      onScan: this.handleScan,\n      style: {\n        width: '100%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: modalClass,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"modal-background\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: modalStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"modal-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, this.state.result)), React.createElement(\"a\", {\n      className: \"button is-success\",\n      onClick: () => this.onClickSendData(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, \"Check-In\"), React.createElement(\"a\", {\n      className: \"button is-danger\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, \"close\")), React.createElement(\"button\", {\n      className: \"modal-close is-large\",\n      \"aria-label\": \"close\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    })));\n  }\n\n  onClickSendData() {\n    console.log(\"hello\");\n    axios.post('https://xo3dnghur7.execute-api.us-east-2.amazonaws.com/dev/registration_app_user_check_in', {\n      \"booking_id\": _pdata\n    }).then(function (response) {\n      console.log(response);\n      localStorage.clear(); // this.setState({\n      //     modalClass : \"modal\"\n      // })\n\n      console.log(this);\n    }).catch(function (error) {\n      console.log(error);\n      localStorage.clear();\n    });\n  }\n\n}\n\nexport default Test;","map":{"version":3,"sources":["/Users/khelawanradheshyamverma/Desktop/qr/reactqr/src/components/qr.js"],"names":["React","Component","QrReader","axios","_pdata","modalClass","modalStyle","backgroundColor","zIndex","borderRadius","Test","constructor","props","state","render","handleError","handleScan","width","result","onClickSendData","console","log","post","then","response","localStorage","clear","catch","error"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,QAAP,MAAqB,iBAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,qBAAP;AAGA,IAAIC,MAAM,GAAG,EAAb;AAEA,IAAIC,UAAU,GAAC,iBAAf;AAEA,MAAMC,UAAU,GAAG;AACfC,EAAAA,eAAe,EAAE,OADF;AAEfC,EAAAA,MAAM,EAAE,CAFO;AAGfC,EAAAA,YAAY,EAAC;AAHE,CAAnB;;AAMA,MAAMC,IAAN,SAAmBT,SAAnB,CAA6B;AAE3BU,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,SAAKC,KAAL,CAAW;AACPR,MAAAA,UAAU,EAAC;AADJ,KAAX;AAIH;;AAuBDS,EAAAA,MAAM,GAAG;AACP,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,QAAD;AACE,MAAA,KAAK,EAAE,GADT;AAEE,MAAA,OAAO,EAAE,KAAKC,WAFhB;AAGE,MAAA,MAAM,EAAE,KAAKC,UAHf;AAIE,MAAA,KAAK,EAAE;AAAEC,QAAAA,KAAK,EAAE;AAAT,OAJT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAOE;AAAK,MAAA,SAAS,EAAEZ,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,EAEA;AAAK,MAAA,KAAK,EAAEC,UAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAI,KAAKO,KAAL,CAAWK,MAAf,CADD,CADA,EAIA;AAAG,MAAA,SAAS,EAAC,mBAAb;AAAiC,MAAA,OAAO,EAAE,MAAM,KAAKC,eAAL,EAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJA,EAKA;AAAG,MAAA,SAAS,EAAC,kBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eALA,CAFA,EASD;AAAQ,MAAA,SAAS,EAAC,sBAAlB;AAAyC,oBAAW,OAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATC,CAPF,CADF;AAqBD;;AAEAA,EAAAA,eAAe,GAAE;AAChBC,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACAlB,IAAAA,KAAK,CAACmB,IAAN,CAAW,2FAAX,EAAwG;AAChG,oBAAclB;AADkF,KAAxG,EAGGmB,IAHH,CAGQ,UAAUC,QAAV,EAAoB;AACxBJ,MAAAA,OAAO,CAACC,GAAR,CAAYG,QAAZ;AACAC,MAAAA,YAAY,CAACC,KAAb,GAFwB,CAGxB;AACA;AACA;;AACAN,MAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ;AACD,KAVH,EAWGM,KAXH,CAWS,UAAUC,KAAV,EAAiB;AACtBR,MAAAA,OAAO,CAACC,GAAR,CAAYO,KAAZ;AACAH,MAAAA,YAAY,CAACC,KAAb;AACD,KAdH;AAeH;;AAvE4B;;AA8E7B,eAAehB,IAAf","sourcesContent":["import React, { Component } from 'react'\nimport QrReader from 'react-qr-reader'\nimport axios from 'axios' \nimport 'bulma/css/bulma.css'\n\n\nlet _pdata = \"\";\n\nlet modalClass=\"modal is-active\";\n\nconst modalStyle = {\n    backgroundColor: 'white',\n    zIndex: 1,\n    borderRadius:'5px'\n}\n\nclass Test extends Component {\n    \n  constructor(props){\n      this.state({\n          modalClass:\"modal\"\n      })\n      \n  }\n  handleScan = data => {\n    if (data) {\n      this.setState({\n        result: data,  \n      })\n      const scanData = data;\n      console.log(scanData);\n      localStorage.setItem(\"scanData\",scanData);\n      _pdata = localStorage.getItem(\"scanData\");\n      if(_pdata == _pdata.indexOf(\"Booking Id:\")){\n        _pdata = _pdata.split(\"Booking Id:\");\n        _pdata = _pdata[1];\n        _pdata = _pdata.trim();\n        //modalClass=\"modal is-active\";\n    \n      }\n      \n    }\n  }\n  handleError = err => {\n    console.error(err)\n  }\n  render() {\n    return (\n      <div>\n        <QrReader\n          delay={300}\n          onError={this.handleError}\n          onScan={this.handleScan}\n          style={{ width: '100%' }}\n        />\n        <div className={modalClass}>\n        <div className=\"modal-background\"></div>\n        <div style={modalStyle}>\n        <div className=\"modal-content\">\n         <p>{this.state.result}</p>\n        </div>\n        <a className=\"button is-success\" onClick={() => this.onClickSendData()}>Check-In</a>\n        <a className=\"button is-danger\">close</a>\n        </div>\n       <button className=\"modal-close is-large\" aria-label=\"close\"></button>\n      </div>  \n      </div>\n    )\n  }\n\n   onClickSendData(){\n    console.log(\"hello\")\n    axios.post('https://xo3dnghur7.execute-api.us-east-2.amazonaws.com/dev/registration_app_user_check_in', {\n            \"booking_id\": _pdata   \n      })\n      .then(function (response) {\n        console.log(response);\n        localStorage.clear();\n        // this.setState({\n        //     modalClass : \"modal\"\n        // })\n        console.log(this);\n      })\n      .catch(function (error) {\n        console.log(error);\n        localStorage.clear();\n      });\n}\n\n  \n    \n}\n\n\nexport default Test;\n"]},"metadata":{},"sourceType":"module"}