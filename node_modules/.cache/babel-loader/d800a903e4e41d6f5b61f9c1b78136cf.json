{"ast":null,"code":"var _jsxFileName = \"/Users/khelawanradheshyamverma/Desktop/qr/reactqrscanner/src/components/qr.js\";\nimport React, { Component } from 'react';\nimport QrReader from 'react-qr-reader';\nimport axios from 'axios';\nimport 'bulma/css/bulma.css';\nlet _pdata = \"\";\nlet modalClass = \"modal\";\nconst modalStyle = {\n  backgroundColor: 'white',\n  zIndex: 1,\n  borderRadius: '5px'\n};\nconst styleModalContent = {\n  border: '1px solid grey',\n  borderRadius: '5px',\n  marginTop: '30px'\n};\n\nclass Test extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleScan = data => {\n      if (data) {\n        this.setState({\n          result: data\n        });\n        this.setState({\n          modalClass: \"modal is-active\"\n        });\n        console.log(this.state);\n        const scanData = data;\n        console.log(scanData);\n        localStorage.setItem(\"scanData\", scanData);\n        _pdata = localStorage.getItem(\"scanData\");\n\n        if (_pdata.indexOf(\"Booking Id:\") > -1) {\n          //console.log(_pdata.indexOf(\"Booking Id\"))\n          _pdata = _pdata.split(\"Booking Id:\"); //console.log(_pdata);\n\n          _pdata = _pdata[1];\n          _pdata = _pdata.trim(); //console.log(_pdata);\n        } else {//console.log(\"hello\")\n            //console.log(_pdata);\n          }\n      }\n    };\n\n    this.handleError = err => {\n      console.error(err);\n    };\n\n    this.state = {\n      modalClass: \"modal \"\n    };\n  }\n\n  componentWillMount() {//console.log(this)\n  }\n\n  onClickSendData() {\n    console.log(_pdata);\n    const that = this;\n    axios.post('https://xo3dnghur7.execute-api.us-east-2.amazonaws.com/dev/registration_app_user_check_in', {\n      \"booking_id\": _pdata\n    }).then(function (response) {\n      console.log(response);\n      localStorage.clear();\n      that.setState({\n        modalClass: \"modal\"\n      });\n      console.log(that.state);\n    }).catch(function (error) {\n      console.log(error);\n      localStorage.clear();\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"scan\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(QrReader, {\n      delay: 300,\n      onError: this.handleError,\n      onScan: this.handleScan,\n      style: {\n        width: '100%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: this.state.modalClass,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"modal-background\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: modalStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"modal-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: styleModalContent,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, this.state.result))), React.createElement(\"div\", {\n      class: \"column\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"button buttonCheck is-success\",\n      onClick: () => this.onClickSendData(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \"Check-In\"))), React.createElement(\"button\", {\n      className: \"modal-close is-large\",\n      \"aria-label\": \"close\",\n      onClick: () => this.onClickClose(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    })));\n  }\n\n  onClickClose() {\n    const that = this;\n    that.setState({\n      modalClass: \"modal\"\n    });\n    console.log(that.state);\n  }\n\n} //<a className=\"button is-link is-rounded\">List</a>\n\n\nexport default Test;","map":{"version":3,"sources":["/Users/khelawanradheshyamverma/Desktop/qr/reactqrscanner/src/components/qr.js"],"names":["React","Component","QrReader","axios","_pdata","modalClass","modalStyle","backgroundColor","zIndex","borderRadius","styleModalContent","border","marginTop","Test","constructor","props","handleScan","data","setState","result","console","log","state","scanData","localStorage","setItem","getItem","indexOf","split","trim","handleError","err","error","componentWillMount","onClickSendData","that","post","then","response","clear","catch","render","width","onClickClose"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport QrReader from 'react-qr-reader'\nimport axios from 'axios' \nimport 'bulma/css/bulma.css'\n\n\nlet _pdata = \"\";\n\nlet modalClass=\"modal\";\n\nconst modalStyle = {\n    backgroundColor: 'white',\n    zIndex: 1,\n    borderRadius:'5px'\n}\n\nconst styleModalContent = {\n  border:'1px solid grey',\n  borderRadius:'5px',\n  marginTop: '30px'\n}\n\nclass Test extends Component {\n    \n  constructor(props){\n      super(props)\n    this.state = {\n        modalClass:\"modal \"\n    }\n  }\n\n  componentWillMount(){\n    //console.log(this)\n  }\n  handleScan = data => {\n    if (data) {\n      this.setState({\n        result: data,  \n      })\n      this.setState({\n        modalClass : \"modal is-active\"\n    })\n    console.log(this.state);\n      const scanData = data;\n      console.log(scanData);\n      localStorage.setItem(\"scanData\",scanData);\n      _pdata = localStorage.getItem(\"scanData\");\n      if(_pdata.indexOf(\"Booking Id:\")>-1){\n        //console.log(_pdata.indexOf(\"Booking Id\"))\n        _pdata = _pdata.split(\"Booking Id:\");\n        //console.log(_pdata);\n        _pdata = _pdata[1];\n        _pdata = _pdata.trim();\n        //console.log(_pdata);\n      } \n      else{\n        //console.log(\"hello\")\n        //console.log(_pdata);\n      } \n    }\n  }\n  handleError = err => {\n    console.error(err)\n  }\n\n  onClickSendData(){\n    console.log(_pdata);\n    const that = this;\n    \n    axios.post('https://xo3dnghur7.execute-api.us-east-2.amazonaws.com/dev/registration_app_user_check_in', {\n            \"booking_id\": _pdata   \n      })\n      .then(function (response) {\n        console.log(response);\n        localStorage.clear();\n        that.setState({\n            modalClass : \"modal\"\n        })\n        console.log(that.state)\n      })\n      .catch(function (error) {\n        console.log(error);\n        localStorage.clear();\n      });\n}\n\n  render() {\n    return (\n      <div className='scan'>\n        <QrReader\n          delay={300}\n          onError={this.handleError}\n          onScan={this.handleScan}\n          style={{ width: '100%' }}\n        />\n        \n        <div className={this.state.modalClass}>\n        <div className=\"modal-background\"></div>\n        <div style={modalStyle}>\n        <div className=\"modal-content\">\n        <div style={styleModalContent}>\n        <p>{this.state.result}</p>\n        </div> \n        </div>\n        <div class=\"column\">\n        <a className=\"button buttonCheck is-success\" onClick={() => this.onClickSendData()}>Check-In</a> \n       \n      </div>\n       </div>\n       <button className=\"modal-close is-large\" aria-label=\"close\" onClick={() => this.onClickClose()}></button>\n      </div>  \n      </div>\n    )\n  } \n\n  onClickClose(){\n  const that = this;\n  that.setState({\n    modalClass : \"modal\"\n   })\n   console.log(that.state)\n  }\n}\n//<a className=\"button is-link is-rounded\">List</a>\n\nexport default Test;\n"]},"metadata":{},"sourceType":"module"}